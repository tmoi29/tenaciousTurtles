{% extends "layout.html" %}

{% block head %}
<link rel="stylesheet" type="text/css" href="css/restaurant_info.css">



{% endblock %}


{% block preJS %}
<script>
  const restaurantId = +{{ restaurant_id }};
  // noinspection JSAnnotator
  const welpReviews = {{ json.dumps(welp_reviews) }};
</script>
{% endblock %}


{% block body %}
<br><br>
<div class="container">

  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-default coupon">
        <div class="panel-heading" id="head">
          <div class="panel-title" id="title">
	    <!-- <button id="show_loc"> show location </button> -->

            <h1 id="name">Restaurant Title</h1>
          </div>
        </div>
        <div class="panel-body">
          <div class="col-md-9" id="info">

            <img src="" id="img"> 
            <br>


	    <br> <br> <br>
	    <div class="panel-group" id="accordion">
	      <div class="panel panel-default">
		<div class="panel-heading">
		  <h4 class="panel-title">
		    <a data-toggle="collapse" data-parent="#accordion" href="#collapse1"> Address</a>
		  </h4>
		</div>
		<div id="collapse1" class="panel-collapse collapse in">
		  <div class="panel-body">

		    <p> <div id="loc"></div> </p>

		  </div>
		</div>
		<div class="panel panel-default">
		  <div class="panel-heading">
		    <h4 class="panel-title">
		      <a data-toggle="collapse" data-parent="#accordion" href="#collapse2"> Rating</a>
		    </h4>
		  </div>
		  <div id="collapse2" class="panel-collapse collapse">
		    <div class="panel-body">
		      <p> <div id="rating"></div> </p>
		    </div>
		  </div>
		  <div class="panel panel-default">
		    <div class="panel-heading">
		      <h4 class="panel-title">
			<a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Cuisine</a>
		      </h4>
		    </div>
		    <div id="collapse3" class="panel-collapse collapse">
		      <div class="panel-body">

			<div id="cuisine"></div>

		      </div>
		    </div>
		  </div> 


                  <li><a id="menu">Menu</a></li>
		</div>
		<div class="col-md-12">
		  <p class="disclosure"></p>
		</div>
	      </div>

	      <div class="panel-footer">

		<div id="reviews">
		  <div id="welpReviews">
		    {% for restaurant_id, username, rating, review_title, review_content in user_reviews %}
		    Rating: {{ rating }}
		    <h4>{{ review_title }} by {{ username }}</h4>
		    {{ review_content }}
		    {% endfor %}
		  </div>
		  <div id="zomatoReviews">
		  </div>
		</div>

		<div id="newReview">

		</div>




	      </div>
	    </div>  
	  </div>
	</div>
      {% if loggedIn %}
        {% if not favorited %}
            <form action = "/add_favorite" >
                <input type="hidden" name="restaurant_id" value={{restaurant_id}}>
                <input type = "submit" value = "Add To Favorites">
            </form>
        {% else %}
            <p>Already added to Favorites</p>
      {% endif %}
      {% else %}
        <p>Sign in to add to favorites</p>
      {% endif %}
      




	<!--
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


	    <script>
	      $("div #loc").hide();

	      $(document).ready(function(){
	      $("#show_loc").click(function(){
	      $("div #loc").show().slideDown("slow");
	      });
	      });


	      //show cuisine
	      $("div #cuisine").hide();

	      $("#show_c").click(function(){
	      $("div #cuisine").slideDown("slow");
	      });


	      //show rating
	      $("div #rating").hide();

	      $("#show_r").click(function(){
	      $("div #rating").slideDown("slow");
	      });



	    </script>
	    -->
      </div>
    </div>
  </div>
</div>

{% endblock %}
